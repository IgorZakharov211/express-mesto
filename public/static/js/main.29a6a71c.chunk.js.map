{"version":3,"sources":["contexts/CurrentUserContext.js","images/header-logo.svg","components/header/Header.js","utils/utils.js","utils/api.js","components/card/Card.js","components/main/Main.js","components/footer/Footer.js","components/popup_with_form/PopupWithForm.js","components/edit_profile_popup/EditProfilePopup.js","components/edit_avatar_popup/EditAvatarPopup.js","components/image_popup/ImagePopup.js","components/add_place_popup/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","className","src","headerLogo","alt","apiOptions","baseUrl","headers","authorization","api","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkRes","name","about","method","body","JSON","stringify","avatar","title","url","link","id","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","type","onDeleteCard","card","key","likeCount","length","onCardLike","Main","href","onEditAvatar","aria-label","onEditProfile","onAddPlace","cards","map","handleCardClick","onCardDelete","Footer","PopupWithForm","popupOpened","isOpen","onClose","action","noValidate","onSubmit","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","AddPlacePopup","setTitle","setLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isCardPopupOpen","setCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","changeLike","newCard","newCards","c","closeAllPopups","getInitialCards","data","item","catch","err","console","log","getMyInfo","Provider","deleteLike","putLike","deleteCard","cardsFilter","filter","patchMyInfo","postCard","patchMyAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29a6a71c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from '../../images/header-logo.svg';\r\n\r\nfunction Header(){\r\n  return(\r\n    <header className=\"header page__header\">\r\n      <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","const apiOptions = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '6e729665-1bba-493d-86aa-08890e5fc87f',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport default apiOptions;\r\n\r\n","import apiOptions from './utils';\r\n\r\nclass Api{\r\n  constructor({apiOptions}){\r\n    this._baseUrl = apiOptions.baseUrl;\r\n    this._headers = apiOptions.headers;\r\n  }\r\n  \r\n  _checkRes(res){\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  } \r\n\r\n  getMyInfo(){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res)) \r\n  } \r\n\r\n  patchMyInfo(name, about){\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  patchMyAvatar(avatar){\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  postCard(title, url){\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: title,\r\n        link: url\r\n      })\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  deleteCard(id){\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  putLike(id){\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n\r\n  deleteLike(id){\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then((res) => this._checkRes(res))\r\n  }\r\n}\r\n\r\nconst api = new Api({apiOptions});\r\n\r\nexport default api;\r\n\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport api from '../../utils/api';\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.owner._id === currentUser.id;\r\n  const cardDeleteButtonClassName = (\r\n  `element__remove ${isOwn ? '' : 'element__remove_disabled'}`); \r\n  const isLiked = props.likes.some(i => i._id === currentUser.id);\r\n  const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_active' : ''}`)\r\n\r\n  function handleClick() {\r\n    props.onCardClick({name: props.name, link: props.link});\r\n  } \r\n\r\n  function handleCardLike(){\r\n    const card = {\r\n      key: props.id,\r\n      id: props.id,\r\n      name: props.name,\r\n      link: props.link,\r\n      likes: props.likes,\r\n      owner: props.owner,\r\n      likeCount: props.likes.length}\r\n    props.onCardLike({card});\r\n  }\r\n\r\n  function handleDeleteCard(){\r\n    props.onDeleteCard(props.id);\r\n  }\r\n\r\n  return(\r\n    <div className=\"element\">\r\n      <a className=\"element__link\">\r\n        <img src={props.link} alt={props.name} className=\"element__image\" onClick={handleClick}/>\r\n      </a>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteCard}></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__title\">{props.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleCardLike}></button>\r\n          <p className=\"element__like-count\">{props.likeCount}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport api from '../../utils/api';\r\nimport Card from '../card/Card';\r\n\r\n\r\nfunction Main(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return(\r\n    <main className=\"content\">\r\n      <section className=\"profile content__profile\">\r\n        <div className=\"profile__avatar\">\r\n          <a className=\"profile__avatar-edit\" href=\"#\" onClick={props.onEditAvatar}></a>\r\n          <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__image\" />\r\n        </div>\r\n    \t<div className=\"profile__text\">\r\n    \t  <div className=\"profile__name\">\r\n    \t    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button \r\n          className=\"profile__edit-button\" \r\n          type=\"button\" \r\n          aria-label=\"Редактировать\" \r\n          onClick={props.onEditProfile}>\r\n          </button>\r\n    \t  </div>\r\n    \t  <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n    \t</div>\r\n    \t<button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements content__elements\">\r\n        {\r\n         props.cards.map(({id, name, link, likes, owner, likeCount})=>{\r\n           return <Card key={id} id={id} name={name} link={link} likes={likes} owner={owner} likeCount={likeCount} onCardClick={props.handleCardClick} onCardLike={props.onCardLike} onDeleteCard={props.onCardDelete}/>\r\n         })\r\n        }\r\n      \r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer(){\r\n  return(\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n    \r\n    return (\r\n        <div className={`popup ${popupOpened}`} id={`popup-${props.name}`}>\r\n          <div className=\"popup__container\">\r\n            <button \r\n            className=\"popup__button-close\" \r\n            type=\"button\" \r\n            aria-label=\"Закрыть\" \r\n            onClick={props.onClose}>\r\n            </button>\r\n            <form className=\"popup__form\" action=\"#\" method=\"POST\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n              <fieldset className=\"popup__fieldset\">\r\n                <h2 className=\"popup__heading\">{props.title}</h2>\r\n                {props.children}\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\n  \r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction EditProfilePopup(props){\r\n  const [name, setName] = React.useState('Имя');\r\n  const [description, setDescription] = React.useState('Профессия');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(e){\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e){\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Имя\" \r\n          name=\"name\" \r\n          required \r\n          id=\"name-input\" \r\n          minLength=\"2\" \r\n          maxLength=\"40\" \r\n          value={name}\r\n          onChange={handleNameChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"name-input-error\"></span> \r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Занятие\" \r\n          name=\"job\" \r\n          required \r\n          id=\"job-input\" \r\n          minLength=\"2\" \r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"job-input-error\"></span> \r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props){\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"url\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Ссылка на изображение\" \r\n          name=\"url\" \r\n          required \r\n          id=\"url-inputAvatar\"\r\n          ref={avatarRef} \r\n          />\r\n          <span className=\"popup__input-error\" id=\"url-inputAvatar-error\"></span>\r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Сохранить</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props){\r\n    const popupOpened = props.isOpen ? 'popup_opened' : '';\r\n\r\n    return(\r\n      <div className={`popup ${popupOpened}`} id={`popup-${props.name}`}>\r\n        <div className=\"popup__container\">\r\n          <button \r\n          className=\"popup__button-close\" \r\n          type=\"button\" \r\n          aria-label=\"Закрыть\" \r\n          onClick={props.onClose}>\r\n          </button>\r\n          <img src={props.card.link} alt={props.card.name} className=\"popup__pic\" />\r\n          <p className=\"popup__subtitle\">{props.card.name}</p>\r\n        </div>  \r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from '../popup_with_form/PopupWithForm';\r\n\r\nfunction AddPlacePopup(props){\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleTitleChange(e){\r\n    setTitle(e.target.value);\r\n  }\r\n    \r\n  function handleLinkChange(e){\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    props.onAddPlace({title, link});\r\n  }\r\n\r\n\r\n\r\n  return(\r\n    <PopupWithForm name=\"place\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"text\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Название\" \r\n          name=\"title\" \r\n          required \r\n          id=\"title-input\"\r\n          minLength=\"1\" \r\n          maxLength=\"30\" \r\n          value={title}\r\n          onChange={handleTitleChange}\r\n           />\r\n          <span className=\"popup__input-error\" id=\"title-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input \r\n          type=\"url\" \r\n          className=\"popup__input\" \r\n          placeholder=\"Ссылка на картинку\" \r\n          name=\"url\" \r\n          required \r\n          id=\"url-input\"\r\n          value={link}\r\n          onChange={handleLinkChange} \r\n          />\r\n          <span className=\"popup__input-error\" id=\"url-input-error\"></span>\r\n        </label>\r\n        <button className=\"popup__button-save\" type=\"submit\">Создать</button>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport Header from '../components/header/Header';\r\nimport Main from '../components/main/Main';\r\nimport Footer from '../components/footer/Footer';\r\nimport PopupWithForm from './popup_with_form/PopupWithForm';\r\nimport EditProfilePopup from './edit_profile_popup/EditProfilePopup';\r\nimport EditAvatarPopup from './edit_avatar_popup/EditAvatarPopup';\r\nimport ImagePopup from '../components/image_popup/ImagePopup';\r\nimport api from '../utils/api';\r\nimport AddPlacePopup from './add_place_popup/AddPlacePopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isCardPopupOpen, setCardPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({name: 'Фотография', link: '../images/no-image.jpg'});\r\n  const [currentUser, setCurrentUser] = React.useState({name: 'Имя', about: 'Профессия', avatar: '../images/no-image.jpg'});\r\n  const [cards, setCards] = React.useState([]);\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then((data) =>{\r\n      setCards(data.map((item) => ({\r\n        key: item._id,\r\n        id: item._id,\r\n        name: item.name,\r\n        link: item.link,\r\n        likes: item.likes,\r\n        owner: item.owner,\r\n        likeCount: item.likes.length\r\n      })));\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n\r\n  function changeLike(newCard, card){\r\n    const newCards = cards.map((c) => {\r\n      if(c.id === card.id) {\r\n        return {\r\n          key: newCard._id,\r\n          id: newCard._id,\r\n          name: newCard.name,\r\n          link: newCard.link,\r\n          likes: newCard.likes,\r\n          owner: newCard.owner,\r\n          likeCount: newCard.likes.length\r\n        };\r\n      } else{ \r\n        return c;\r\n      }\r\n    });\r\n    setCards(newCards);\r\n  }\r\n\r\n  function handleCardLike({card}) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser.id);\r\n    if (isLiked){\r\n      api.deleteLike(card.id).then((newCard) => {\r\n        changeLike(newCard, card);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err);\r\n      });\r\n    } else{\r\n      api.putLike(card.id).then((newCard) => {\r\n        changeLike(newCard, card);\r\n      })\r\n      .catch((err) =>{\r\n        console.log(err);\r\n      });\r\n    }\r\n  } \r\n\r\n  function handleDeleteCard(id){\r\n    api.deleteCard(id).then((data) => {\r\n      console.log(data);\r\n      const cardsFilter = cards.filter((item) => {\r\n        return id !== item.id;\r\n      });\r\n      setCards(cardsFilter);\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getMyInfo().then((data) => {\r\n      setCurrentUser({id: data._id, name: data.name, about: data.about, avatar: data.avatar});\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }, [])\r\n  \r\n  \r\n  function handleEditAvatarClick(){\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick(){\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick(){\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups(){\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setCardPopupOpen(false);\r\n  }\r\n\r\n  function handleCardClick({name, link}){\r\n    setCardPopupOpen(true);\r\n    setSelectedCard({name: name, link: link});\r\n  }\r\n\r\n  function handleUpdateUser({name, about}){\r\n    api.patchMyInfo(name, about).then((res) => {\r\n      setCurrentUser({id: res._id, name: res.name, about: res.about, avatar: res.avatar});\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}){\r\n    api.patchMyAvatar(avatar).then((res) => {\r\n      setCurrentUser({id: res._id, name: res.name, about: res.about, avatar: res.avatar});\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit({title, link}){\r\n    api.postCard(title, link).then((res) => {\r\n      const newCard = {\r\n        key: res._id,\r\n        id: res._id,\r\n        name: res.name,\r\n        link: res.link,\r\n        likes: res.likes,\r\n        owner: res.owner,\r\n        likeCount: res.likes.length\r\n      }\r\n      setCards([newCard, ...cards])\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <div className=\"page\">\r\n      <Header />\r\n      <Main \r\n      onEditProfile={handleEditProfileClick} \r\n      onAddPlace={handleAddPlaceClick}\r\n      onEditAvatar={handleEditAvatarClick}\r\n      handleCardClick={handleCardClick}\r\n      cards={cards}\r\n      onCardLike={handleCardLike}\r\n      onCardDelete={handleDeleteCard}\r\n      />\r\n      <Footer />\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\r\n      <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" isOpen={false} onClose={closeAllPopups}>\r\n        <button className=\"popup__button-save\" type=\"submit\">Да</button>\r\n      </PopupWithForm>\r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isCardPopupOpen} />\r\n    </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}